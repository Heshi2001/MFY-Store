{% extends "store/base.html" %}
{% load static %}

{% block title %}Track Order #{{ order.id }} â€¢ MFY Store{% endblock %}

{% block content %}
<section class="pt-44 pb-20 bg-black text-white">

  <div class="max-w-5xl mx-auto px-6">

    <!-- HEADER -->
    <div class="mb-10">
      <h1 class="text-3xl font-extrabold">Track Order #{{ order.id }}</h1>
      <p class="text-gray-400 text-sm mt-1">Placed on {{ order.created_at|date:"M d, Y" }}</p>
    </div>

    <!-- LIVE MAP (FAKE ANIMATION) -->
    <div class="border border-gray-800 rounded-2xl overflow-hidden mb-8">
      <div class="relative">
        <img src="{% static 'img/map-dark.jpg' %}" class="w-full h-64 object-cover opacity-60">

        <div class="absolute inset-0 flex items-center justify-center">
          <div class="animate-ping w-10 h-10 bg-blue-500 rounded-full opacity-70"></div>
          <div class="absolute w-6 h-6 bg-blue-400 rounded-full"></div>
        </div>
      </div>
    </div>

    <!-- TRACKING TIMELINE -->
    <div class="bg-black/40 border border-gray-800 rounded-2xl p-6 shadow mb-10">

      <h2 class="font-bold text-lg mb-6">Delivery Status</h2>

      <div class="space-y-8">
        {% include "store/partials/_tracking_step.html" with name="Order Placed" active=placed %}
        {% include "store/partials/_tracking_step.html" with name="Processing" active=processing %}
        {% include "store/partials/_tracking_step.html" with name="Shipped" active=shipped %}
        {% include "store/partials/_tracking_step.html" with name="Out for Delivery" active=out_for_delivery %}
        {% include "store/partials/_tracking_step.html" with name="Delivered" active=delivered %}
      </div>
    </div>

    <!-- BACK -->
    <a href="{% url 'order_detail' order.id %}"
       class="inline-flex items-center gap-2 text-gray-300 hover:text-white">
      <i class="fa-solid fa-arrow-left text-sm"></i>
      Back to Order Details
    </a>

  </div>
</section>
{% endblock %}
